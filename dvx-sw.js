!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/ed-pwa/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=e=>`color:#fff; background-color: ${e}; font-weight: bolder; border-radius: 5px; padding: 2px;`,a={log:o("#3dca77"),warn:o("#f09c32"),error:o("#bc3f32")},c=(e="log",t)=>{let n=t.length>1?t.shift():"[Dvx]:";console.log(`%c${n}`,a[e],...t)},i=console.log,s=(console.clear,console.dir,console.info,console.time,console.timeEnd,console.group,console.groupEnd,console.table,(...e)=>{c("error",e)});importScripts("/ed-pwa/assets-manifest.js");const r="pwa-demo-edteam-cache-v1";self.addEventListener("install",e=>{i("[sw]: Installed"),e.waitUntil(caches.open(r).then(e=>(i("[sw]: Archivos en cache"),e.addAll(__assetsManifest).then(()=>self.skipWaiting()))).catch(e=>s("[sw]: Falló registro de cache",e)))}),self.addEventListener("activate",e=>{i("[sw]: activate");const t=[r];e.waitUntil(caches.keys().then(e=>(i("[sw]: cacheNames",e),Promise.all(e.map(e=>{-1===t.indexOf(e)&&caches.delete(e)})))).then(()=>(i("[sw]: cache limpio y actualizado"),self.clients.claim())).catch(e=>s("[sw]: Falló apertura de llaves de cache",e)))}),self.addEventListener("fetch",e=>{i("[sw]: Fetch"),e.respondWith(caches.match(e.request).then(t=>t||fetch(e.request).then(t=>{if(t.url.includes("browser-sync")||t.url.includes("sockjs-node")||t.url.includes("hot-update.json"))return t;let n=t.clone();return caches.open(r).then(t=>{t.put(e.request,n).catch(t=>s(`[sw]: ${e.request.url}`,t))}).catch(e=>s("[sw]: Falló apertura de cache",e)),t})).catch(e=>s("[sw]: Falló respondWith",e)))}),self.addEventListener("push",e=>{if(i("[sw]: Push event",e),"Test push message from DevTools."===e.data.text()){let t="Push Notification Demo",n={body:"Click to return to app",icon:"/ed-pwa/android-chrome-192x192.png",badge:"/ed-pwa/android-chrome-192x192.png",vibrate:[100,200,50],data:{id:1},actions:[{action:"Si",title:"I love this app 💓😍",icon:"/ed-pwa/android-chrome-192x192.png"},{action:"No",title:"I don't love this app 💔😞",icon:"/ed-pwa/android-chrome-192x192.png"}]};e.waitUntil(self.registration.showNotification(t,n))}}),self.addEventListener("notificationclick",e=>{i("[sw]: Notification click",e),"Si"===e.action?(i("Amo esta aplicación"),e.notification.close(),clients.openWindow(`${{href:"https://devlegacy.github.io/ed-pwa/",pathname:"/ed-pwa/",origin:"https://devlegacy.github.io",startURL:"/ed-pwa/?utm=homescreen"}.full}/?utm=homescreen`)):"No"===e.action&&(i("No me gusta esta aplicación :("),e.notification.close())}),self.addEventListener("sync",e=>{i("[sw]: BackgroundSync",e),"github"!==e.tag&&"test-tag-from-devtools"!==e.tag||e.waitUntil(self.clients.matchAll().then(e=>e.map(e=>e.postMessage("online"))).catch(e=>s("[sw]: Background sync fail",e)))})}]);